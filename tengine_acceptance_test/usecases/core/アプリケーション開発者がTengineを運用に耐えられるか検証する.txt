ユースケース名:
  アプリケーション開発者がTengineを運用に耐えられるか検証する

背景:
  アプリケーション開発者は、Tengineの導入を検討するために、イベントハンドラ定義の開発やTengineの運用の容易さや運用の信頼性を評価することが考えられます
  また、Tengineの運用を容易にする為には、以下にあげた項目が重要です
  運用の容易さの評価項目
    * インストールからセットアップ、起動までの作業手順が容易であること(未記載)
    * アプリケーションやTengineが利用するプロセスに問題が発生した際の原因の調査方法が容易であること(記載済)
  運用の信頼性の評価項目
    * TengineとTengineの利用するプロセスの冗長化が可能であり可用性が高いこと(未記載)

概要:
  アプリケーション開発者が、運用テスト環境で、Tengineが利用するプロセスや環境に問題が発生した際に、GR Heartbeatで問題を知ることができるか確認する
Tengineコンソールのイベント通知画面で問題を

GR Heartbeatが来ている事を確認する
  運用テスト環境は、以下の構成の環境である。
  * キュー、DB、Tengineコア、Tengineコンソールがそれぞれ別のサーバで動作している

事前条件:
  DBプロセスが起動している
  Tengineコアが停止している
  TengineコアからGR Heartbeatのイベントが一回も発火されていないこと
  キューのプロセスが起動している
  Tengineコンソールが起動している
  アプリケーション開発者は、GR Heartbeatの発火間隔を知っている

成功時保証:
  アプリケーション運用者がTengineコア・キュー・ネットワークのいずれかに問題が発生したことが分かることが確認できる

最低保証:
  なし

登場するコンポーネント:
  イベント管理画面

登場するパッケージ:
  Tengineコア
  Tengineコンソール

登場するドキュメント:
  Getting Started
  アプリケーション開発者向けTengineマニュアル
  アプリケーション運用者向けTengineマニュアル

基本コース:
1. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
2. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatが0件表示されている事を確認する
3. アプリケーション開発者が運用テスト環境でTengineコアプロセスをデーモンとして起動する
4. アプリケーション開発者が運用テスト環境でTengineコアプロセスの起動を確認する
5. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
6. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatが表示されている事を確認する

7. アプリケーション開発者が運用テスト環境でキューを停止する
8. アプリケーション開発者が運用テスト環境でキューの停止を確認する
9. アプリケーション開発者が運用テスト環境でTengineコアプロセスが起動していることを確認する
10. アプリケーション開発者はGR Heartbeatの発火間隔の時間分待つ
11. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
12. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatの表示が増えていない事を確認する
13. アプリケーション開発者が運用テスト環境でキューを起動する
14. アプリケーション開発者が運用テスト環境でキューの起動を確認する
15. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
16. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatの表示が増えている事を確認する

17. アプリケーション開発者がキューが動作しているサーバとTengineコアが動作している間のネットワークを切断する
18. アプリケーション開発者がキューが動作しているサーバとTengineコアが動作している間のネットワークが切断されていることを確認する
19. アプリケーション開発者が運用テスト環境でキューが起動していることを確認する
20. アプリケーション開発者が運用テスト環境でTengineコアプロセスが起動していることを確認する
21. アプリケーション開発者はGR Heartbeatの発火間隔の時間分待つ
22. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
23. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatの表示が増えていない事を確認する
24. アプリケーション開発者がキューが動作しているサーバとTengineコアが動作している間のネットワークを接続する
25. アプリケーション開発者がキューが動作しているサーバとTengineコアが動作している間のネットワークが接続されていることを確認する
26. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
27. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatの表示が増えている事を確認する

28. アプリケーション開発者がTengineコアが動作しているサーバとDBが動作している間のネットワークを切断する
29. アプリケーション開発者がTengineコアが動作しているサーバとDBが動作している間のネットワークが切断されていることを確認する
30. アプリケーション開発者が運用テスト環境でTengineコアプロセスが停止していることを確認する
31. アプリケーション開発者はGR Heartbeatの発火間隔の時間分待つ
32. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
33. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatの表示が増えていない事を確認する
34. アプリケーション開発者がTengineコアが動作しているサーバとDBが動作している間のネットワークを接続する
35. プリケーション開発者がTengineコアが動作しているサーバとDBが動作している間のネットワークが接続されていることを確認する
36. アプリケーション開発者が運用テスト環境でTengineコアプロセスをデーモンとして起動する
37. アプリケーション開発者が運用テスト環境でTengineコアプロセスの起動を確認する
38. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
39. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatの表示が増えている事を確認する

40. アプリケーション開発者が運用テスト環境でTengineコアプロセスを停止する
41. アプリケーション開発者が運用テスト環境でTengineコアプロセスの停止を確認する
42. アプリケーション開発者はGR Heartbeatの発火間隔の時間分待つ
43. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
44. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatの表示が増えていない事を確認する
45. アプリケーション開発者が運用テスト環境でTengineコアプロセスをデーモンとして起動する
46. アプリケーション開発者が運用テスト環境でTengineコアプロセスの起動を確認する
47. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatを表示させる
48. アプリケーション開発者は「イベント通知画面」でイベント種別名GR Heartbeatの表示が増えている事を確認する

49. アプリケーション開発者が運用テスト環境でTengineコアプロセスを停止する
50. アプリケーション開発者が運用テスト環境でTengineコアプロセスの停止を確認する

注記:
 必要な検証項目が追加された場合、このユースケースに追記していきます

