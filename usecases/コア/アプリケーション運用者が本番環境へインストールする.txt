ユースケース名:
  アプリケーション運用者が本番環境へインストールする

背景:
  Tengineを導入することが決定した。

概要:
  アプリケーション運用者がTengineを動かすためのソフトウェアのインストールおよびセットアップを行った後、
  テスト起動をおこなうことでTengineコアが正常に動作するための準備が完了したことを確認する

事前条件:
  DB、キュー、Tengineコア、Tenginのフロントエンドをインストールする対象となる全てのサーバが以下の条件を満たしている
    * ハードウェアの準備（電源接続、ケーブル配線、システムBIOS初期設定、ファームウェアのアップデート）が完了している

事後条件:


登場するコンポーネント:


基本コース:
1. アプリケーション運用者が本番環境のDBサーバにOSのインストールを行う
2. アプリケーション運用者が本番環境のDBサーバにログインする
3. アプリケーション運用者が本番環境のキューサーバにOSのインストールを行う [代替コースA]
4. アプリケーション運用者が本番環境のキューサーバにログインする <戻り点: キューサーバログイン>
5. アプリケーション運用者が本番環境のコアサーバにOSのインストールを行う
6. アプリケーション運用者が本番環境のコアサーバにログインする
7. アプリケーション運用者が本番環境のフロントエンドサーバにOSのインストールを行う
8. アプリケーション運用者が本番環境のフロントエンドサーバにログインする
9. アプリケーション運用者が本番環境のSCMサーバにOSのインストールを行う [代替コースB]
10. アプリケーション運用者が本番環境のSCMサーバにログインする
11. アプリケーション運用者が本番環境のSCMサーバにSCMのインストールを行う
12. アプリケーション運用者が本番環境のSCMサーバのSCMにリポジトリを作成する
13. アプリケーション運用者が本番環境のSCMサーバのSCMに作成したリポジトリへアプリケーション開発者のアカウントを登録する
14. アプリケーション運用者が本番環境のSCMサーバのアプリケーション開発者のアカウントが登録されていることを確認する

15. アプリケーション運用者が本番環境のDBサーバにDBのインストールを行う <戻り点: DBインストール>
16. アプリケーション運用者が本番環境のDBサーバにDBのデータ格納用ディレクトリを作成する
17. アプリケーション運用者が本番環境のDBサーバにDBのログ格納用ディレクトリを作成する
18. アプリケーション運用者が本番環境のDBサーバでDBのプロセスを起動する
19. アプリケーション運用者が本番環境のDBサーバでDBのプロセスが起動していることを確認する
20. アプリケーション運用者が本番環境のDBサーバでDBの冗長化の設定を行う [代替コースC, 代替コースD, 代替コースE]
21. アプリケーション運用者が本番環境のDBサーバでDBのログローテーションの設定を行う <戻り点: ログローテーション設定>
22. アプリケーション運用者が本番環境のDBサーバでDBの設定が反映されていることを確認する

23. アプリケーション運用者が本番環境のキューサーバにキューのインストールを行う
24. アプリケーション運用者が本番環境のキューサーバでキューの使用メモリの設定を行う
25. アプリケーション運用者が本番環境のキューサーバでキューのログローテーションの設定を行う
26. アプリケーション運用者が本番環境のキューサーバでキューのプロセスの再起動を行う
27. アプリケーション運用者が本番環境のキューサーバでキューのプロセスの起動を確認する
28. アプリケーション運用者が本番環境のキューサーバにキューの冗長化の設定を行う
29. アプリケーション運用者が本番環境のキューサーバにキューの冗長化の設定が反映されていることを確認する

30. アプリケーション運用者が本番環境のコアサーバにTengineコアのインストールを行う
31. アプリケーション運用者が本番環境のコアサーバのTengineコアにDBサーバへの接続設定を行う
32. アプリケーション運用者が本番環境のコアサーバのTengineコアにキューサーバへの接続設定を行う
33. アプリケーション運用者が本番環境のコアサーバにTengineコアのログローテーションの設定を行う

34. アプリケーション運用者が本番環境のDBサーバにTengineコアで利用する初期データを登録する
35. アプリケーション運用者が本番環境のDBサーバにDBのインデックスの設定を行う

36. アプリケーション運用者が本番環境のコアサーバにTengineコアのプロセスを起動する
37. アプリケーション運用者が本番環境のコアサーバにTengineコアのプロセスを起動を確認する

38. アプリケーション運用者が本番環境のフロントエンドサーバにフロントエンドのインストールを行う
39. アプリケーション運用者が本番環境のフロントエンドサーバにフロントエンドのログローテーションの設定を行う
40. アプリケーション運用者が本番環境のフロントエンドサーバにフロントエンドのプロセスを起動する
41. アプリケーション運用者が本番環境のフロントエンドサーバでフロントエンドのプロセスが起動していることを確認する

42. アプリケーション運用者が本番環境のテスト起動を行う
43. アプリケーション運用者が本番環境のテスト起動が成功することを確認する

代替コースA: 運用中に当初想定を大きく上回るメッセージのデータ量が発生した場合に備え、動的にパーティションの容量を変更するために、キューの格納領域をLVMで設定する
1. アプリケーション運用者がOSのインストールを行う
2. アプリケーション運用者がLVMの設定を行う
3. <戻り点: キューサーバログイン>

代替コースB: SCMサーバには外部サービスを利用する
1. アプリケーション運用者が外部サービスにサインアップする
2. アプリケーション運用者が外部サービスにログインする
3. アプリケーション運用者が外部サービスでリポジトリを作成する
4. アプリケーション運用者が外部サービスに作成したリポジトリへアプリケーション開発者のアカウントを登録する
5. アプリケーション運用者が外部サービスのアプリケーション開発者のアカウントが登録されていることを確認する
6. <戻り点: DBインストール>

代替コースC: DBサーバへ冗長化と分割データ配置(シャーディング)の設定
1. アプリケーション運用者が本番環境のDBサーバへ冗長化の設定を行う
2. アプリケーション運用者が本番環境のDBサーバへ分割データ配置(シャーディング)の設定を行う
3. <戻り点: ログローテーション設定>に遷移する

代替コースD: DBサーバへ冗長化と自動バックアップの設定
1. アプリケーション運用者が本番環境のDBサーバへ冗長化の設定を行う
2. アプリケーション運用者が本番環境のDBサーバへ自動バックアップの設定を行う
3. <戻り点: ログローテーション設定>に遷移する

代替コースE: DBサーバへ冗長化と分割データ配置(シャーディング)と自動バックアップの設定
1. アプリケーション運用者が本番環境のDBサーバへ冗長化の設定を行う
2. アプリケーション運用者が本番環境のDBサーバへ分割データ配置(シャーディング)の設定を行う
3. アプリケーション運用者が本番環境のDBサーバの自動バックアップの設定を行う
4. <戻り点: ログローテーション設定>に遷移する

注記:
