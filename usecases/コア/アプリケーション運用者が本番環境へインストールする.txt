ユースケース名:
  アプリケーション運用者が本番環境へインストールする

背景:
  Tengineを導入することが決定した。

概要:
  アプリケーション運用者がTengineを動かすためのソフトウェアのインストールおよびセットアップを行った後、
  テスト起動をおこなうことでTengineコアが正常に動作するための準備が完了したことを確認する

事前条件:
  DB、キュー、Tengineコア、Tenginのフロントエンドをインストールする対象となる全てのサーバが以下の条件を満たしている
    * ハードウェアの準備（電源接続、ケーブル配線、システムBIOS初期設定、ファームウェアのアップデート）が完了している
    * OSのインストールが完了している

事後条件:


登場するコンポーネント:


基本コース:
×1. アプリケーション運用者がDBサーバにOSのインストールを行う
×2. アプリケーション運用者がDBサーバにログインする
×3. アプリケーション運用者がキューサーバにOSのインストールを行う 
×4. アプリケーション運用者がキューサーバにログインする
×5. アプリケーション運用者がコアサーバにOSのインストールを行う
×6. アプリケーション運用者がコアサーバにログインする
×7. アプリケーション運用者がフロントエンドサーバにOSのインストールを行う
×8. アプリケーション運用者がフロントエンドサーバにログインする
×9. アプリケーション運用者がSCMサーバにOSのインストールを行う
×10. アプリケーション運用者がSCMサーバにログインする
11. アプリケーション運用者がSCMサーバにSCMのインストールを行う　[代替コースB]
12. アプリケーション運用者がSCMサーバにSCMにリポジトリを作成する
13. アプリケーション運用者がSCMサーバにSCMに作成したリポジトリへアプリケーション開発者のアカウントを登録する
14. アプリケーション運用者がSCMサーバのアプリケーション開発者のアカウントが登録されていることを確認する

15. アプリケーション運用者がDBサーバにDBのインストールを行う <戻り点: DBインストール>
×16. アプリケーション運用者がDBサーバにDBのデータ格納用ディレクトリを作成する
×17. アプリケーション運用者がDBサーバにDBのログ格納用ディレクトリを作成する
18. アプリケーション運用者がDBサーバでDBのプロセスを起動する
19. アプリケーション運用者がDBサーバでDBのプロセスが起動していることを確認する
20. アプリケーション運用者がDBサーバでDBの冗長化の設定を行う [代替コースC, 代替コースD, 代替コースE]
21. アプリケーション運用者がDBサーバでDBのログローテーションの設定を行う <戻り点: ログローテーション設定>
22. アプリケーション運用者がDBサーバでDBの設定が反映されていることを確認する

23. アプリケーション運用者がキューサーバにキューのインストールを行う [代替コースA]
×24. アプリケーション運用者がキューサーバでキューの使用メモリの設定を行う
×25. アプリケーション運用者がキューサーバでキューのログローテーションの設定を行う
26. アプリケーション運用者がキューサーバでキューのプロセスの起動を行う <戻り点: キュープロセス起動>
27. アプリケーション運用者がキューサーバでキューのプロセスの起動を確認する
28. アプリケーション運用者がキューサーバにキューの冗長化の設定を行う
29. アプリケーション運用者がキューサーバにキューの冗長化の設定が反映されていることを確認する

30. アプリケーション運用者がコアサーバにTengineコアのインストールを行う
31. アプリケーション運用者がコアサーバのTengineコアにDBサーバへの接続設定を行う
32. アプリケーション運用者がコアサーバのTengineコアにキューサーバへの接続設定を行う
×33. アプリケーション運用者がコアサーバにTengineコアのログローテーションの設定を行う

34. アプリケーション運用者がDBサーバにTengineコアで利用する初期データを登録する
35. アプリケーション運用者がDBサーバにDBのインデックスの設定を行う

36. アプリケーション運用者がコアサーバにTengineコアのプロセスを起動する
37. アプリケーション運用者がコアサーバにTengineコアのプロセスを起動を確認する

38. アプリケーション運用者がフロントエンドサーバにフロントエンドのインストールを行う
×39. アプリケーション運用者がフロントエンドサーバにフロントエンドのログローテーションの設定を行う
40. アプリケーション運用者がフロントエンドサーバにフロントエンドのプロセスを起動する
41. アプリケーション運用者がフロントエンドサーバでフロントエンドのプロセスが起動していることを確認する

42. アプリケーション運用者がテスト起動を行う
43. アプリケーション運用者がテスト起動が成功することを確認する

代替コースA: 運用中に当初想定を大きく上回るメッセージのデータ量が発生した場合に備え、動的にパーティションの容量を変更するために、キューの格納領域をLVMで設定する
1. アプリケーション運用者がキューサーバにLVMの設定を行う
2. アプリケーション運用者が本番環境のキューサーバにキューのインストールを行う
3. <戻り点: キュープロセス起動>

代替コースB: SCMサーバには外部サービスを利用する
1. アプリケーション運用者が外部サービスにサインアップする
2. アプリケーション運用者が外部サービスにログインする
3. アプリケーション運用者が外部サービスでリポジトリを作成する
4. アプリケーション運用者が外部サービスに作成したリポジトリへアプリケーション開発者のアカウントを登録する
5. アプリケーション運用者が外部サービスのアプリケーション開発者のアカウントが登録されていることを確認する
6. <戻り点: DBインストール>

代替コースC: DBサーバへ冗長化と分割データ配置(シャーディング)の設定
1. アプリケーション運用者がDBサーバへ冗長化の設定を行う
2. アプリケーション運用者がDBサーバへ分割データ配置(シャーディング)の設定を行う
3. <戻り点: ログローテーション設定>に遷移する

代替コースD: DBサーバへ冗長化と自動バックアップの設定
1. アプリケーション運用者がDBサーバへ冗長化の設定を行う
2. アプリケーション運用者がDBサーバへ自動バックアップの設定を行う
3. <戻り点: ログローテーション設定>に遷移する

代替コースE: DBサーバへ冗長化と分割データ配置(シャーディング)と自動バックアップの設定
1. アプリケーション運用者がDBサーバへ冗長化の設定を行う
2. アプリケーション運用者がDBサーバへ分割データ配置(シャーディング)の設定を行う
3. アプリケーション運用者がDBサーバの自動バックアップの設定を行う
4. <戻り点: ログローテーション設定>に遷移する

注記:
