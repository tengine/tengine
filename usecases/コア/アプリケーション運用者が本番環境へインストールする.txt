ユースケース名:
  アプリケーション運用者が本番環境へインストールする

背景:
  Tengineを導入することが決定した

概要:
  アプリケーション運用者がTengineを動かすためのソフトウェアのインストールおよびセットアップを行った後、
  テスト起動をおこなうことでTengineコアが正常に動作するための準備が完了したことを確認する

事前条件:
  DB、キュー、Tengineコア、Tenginのフロントエンドをインストールする対象となる全てのサーバが以下の条件を満たしている
    * ハードウェアの準備（電源接続、ケーブル配線、システムBIOS初期設定、ファームウェアのアップデート）が完了している
    * OSのインストールが完了している

事後条件:


登場するコンポーネント:
  なし

基本コース:
1. アプリケーション運用者がSCMサーバにSCMのインストールを行う　[代替コースA]
2. アプリケーション運用者がSCMサーバのSCMにリポジトリを作成する
3. アプリケーション運用者がSCMサーバのSCMに作成したリポジトリへアプリケーション開発者のアカウントを登録する
4. アプリケーション運用者がSCMサーバのSCMに作成したリポジトリへアプリケーション開発者のアカウントが登録されていることを確認する

5. アプリケーション運用者がDBサーバにDBのインストールを行う <戻り点: DBインストール>
6. アプリケーション運用者がDBサーバでDBのプロセスを起動する
7. アプリケーション運用者がDBサーバでDBのプロセスが起動していることを確認する
8. アプリケーション運用者がDBサーバでDBの冗長化の設定を行う [代替コースB, 代替コースC, 代替コースD]
9. アプリケーション運用者がDBサーバでDBの設定が反映されていることを確認する <戻り点: DB設定の確認>

10. アプリケーション運用者がキューサーバにキューのインストールを行う [代替コースE]
11. アプリケーション運用者がキューサーバでキューのプロセスの起動を行う <戻り点: キュープロセス起動>
12. アプリケーション運用者がキューサーバでキューのプロセスの起動を確認する
13. アプリケーション運用者がキューサーバにキューの冗長化の設定を行う
14. アプリケーション運用者がキューサーバにキューの冗長化の設定が反映されていることを確認する

15. アプリケーション運用者がコアサーバにTengineコアのインストールを行う

16. アプリケーション運用者がコアサーバでTengineコアのプロセスを起動する
17. アプリケーション運用者がコアサーバでTengineコアのプロセスを起動を確認する

18. アプリケーション運用者がフロントエンドサーバにフロントエンドのインストールを行う
19. アプリケーション運用者がフロントエンドサーバでフロントエンドのプロセスを起動する
20. アプリケーション運用者がフロントエンドサーバでフロントエンドのプロセスが起動していることを確認する

21. アプリケーション運用者がテスト起動を行う
22. アプリケーション運用者がテスト起動が成功することを確認する


代替コースA: SCMサーバでSCMの外部サービスを利用する
1. アプリケーション運用者がSCMの外部サービスにサインアップする
2. アプリケーション運用者がSCMの外部サービスにログインする
3. アプリケーション運用者がSCMの外部サービスにリポジトリを作成する
4. アプリケーション運用者がSCMの外部サービスに作成したリポジトリへアプリケーション開発者のアカウントを登録する
5. アプリケーション運用者がSCMの外部サービスに作成したリポジトリへアプリケーション開発者のアカウントが登録されていることを確認する
6. <戻り点: DBインストール>に遷移する


代替コースB: DBの冗長化と分割データ配置(シャーディング)の設定
1. アプリケーション運用者がDBサーバでDBの冗長化の設定を行う
2. アプリケーション運用者がDBサーバでDBの分割データ配置(シャーディング)の設定を行う
3. <戻り点: DB設定の確認>に遷移する


代替コースC: DBの冗長化と自動バックアップの設定
1. アプリケーション運用者がDBサーバでDBの冗長化の設定を行う
2. アプリケーション運用者がDBサーバでDBの自動バックアップの設定を行う
3. <戻り点: DB設定の確認>に遷移する


代替コースD: DBの冗長化と分割データ配置(シャーディング)と自動バックアップの設定
1. アプリケーション運用者がDBサーバでDBの冗長化の設定を行う
2. アプリケーション運用者がDBサーバでDBの分割データ配置(シャーディング)の設定を行う
3. アプリケーション運用者がDBサーバでDBの自動バックアップの設定を行う
4. <戻り点: DB設定の確認>に遷移する


代替コースE: 運用中に当初想定を大きく上回るメッセージのデータ量が発生した場合に備え、動的にパーティションの容量を変更するために、キューの格納領域をLVMで設定する
1. アプリケーション運用者がキューサーバでLVMの設定を行う
2. アプリケーション運用者がキューサーバにキューのインストールを行う
3. <戻り点: キュープロセス起動>


注記:
