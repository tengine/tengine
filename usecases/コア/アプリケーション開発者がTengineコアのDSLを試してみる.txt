ユースケース名:
  アプリケーション開発者がTengineコアのDSLを試してみる

背景:
  アプリケーション開発者は、Tengineの導入を検討するために、イベントハンドラ定義の開発やTengineの運用の容易や運用の信頼性を評価することが考えられます
  また、Tengineの利用を容易にする為には、以下にあげた項目が重要です
    * Tengineのインストールからセットアップ、起動までの作業手順が簡単なこと
    * イベントハンドラ定義を作成する為の資料が揃っており、"イベントハンドラ定義の作成"から"イベントハンドラの実行"までの作業手順が簡単なこと

概要:
  アプリケーション開発者がTengineコアのイベントハンドラ定義を試しに作成してみる
  また、作成したイベントハンドラ定義はテストし、作成したイベントハンドラ定義の記述に問題がないことを確認する
  アプリケーション開発者は作成したイベントハンドラ定義をデプロイし、イベント発火からイベントハンドラの実行までを確認する
  Tengineはイベントハンドラ定義のテストをサポートするため、RSpec/TestUnit/Cucubmerのテストツールを拡張したテストフレームワークエクステンションというコンポーネントを提供する
  
事前条件:
  Tengineを動かすためのパッケージとTengineコアとTengineコンソールのインストールおよびセットアップが完了している
  Tengineコンソールのプロセスを起動している

事後条件(最低保証):
  アプリケーション開発者がTengineコアのプロセスをDオプションなしで起動している

登場するパッケージ:
  Tengineコア
  Tengineコンソール

登場するコンポーネント:
  テストフレームワークエクステンション
  イベントハンドラ定義ストア
  イベントハンドラ定義エヴァリュエーター
  イベントハンドラストア
  イベント通知画面

登場するドキュメント:
  Getting Started
  開発者向けTengineマニュアル
  運用者向けTengineマニュアル

登場するイベントハンドラ定義:
  uc01_execute_processing_for_event.rb
  uc02_fire_another_event.rb
  uc03_2handlers_for_1event.rb
  uc08_if_both_a_and_b_occurs.rb
  uc10_if_the_event_occurs_at_the_server.rb
  uc11_if_the_event_occurs_in_the_servers.rb
  uc30_complex_case01.rb
  uc30_complex_case02.rb
  uc31_complex_case01.rb
  uc40_generalted_handler.rb

基本コース:
1. アプリケーション開発者は開発環境でTengineコアのテストフレームワークエクステンションを利用できるようにする

2. [拡張コースA: イベントハンドラ定義を作成する]に遷移する
3. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを行う <戻り点: イベントハンドラ定義のテスト>
4. Tengineコアのテストフレームワークエクステンションはアプリケーション開発者が作成したイベントハンドラ定義のテストに成功したことを出力する [代替コースB, 代替コースC]

5. アプリケーション開発者は開発環境でイベントハンドラ定義をデプロイする
6. アプリケーション開発者は開発環境でイベントハンドラ定義がイベントハンドラ定義ストアへ登録されていることを確認する

7. アプリケーション開発者はTengineコアサーバでTengineコアを停止する
8. アプリケーション開発者はTengineコアサーバでTengineコアをDオプションなしで起動する
9. アプリケーション開発者はTengineコアサーバでイベントハンドラ定義がイベントハンドラストアへ登録されたことを確認する

10. アプリケーション開発者はイベントを発火する
11. アプリケーション開発者はイベントを発火したこと「イベント通知画面」で確認する
12. アプリケーション開発者はイベントハンドラが実行されたことをTengineコアを起動しているコンソール上で確認する


拡張コースA: イベントハンドラ定義を作成する
1. [代替コースA1, A2, A3, A4, A5, A6, A7, A8, A9, A10]

拡張コースA1: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc40_generalted_handler.rb)
1. アプリケーション開発者は開発環境でTengineコアのテストフレームワークエクステンションを利用してイベントハンドラ定義とそのテストコードをテンプレートから生成する
4. <戻り点: イベントハンドラ定義のテスト>に遷移する

拡張コースA2: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc01_execute_processing_for_event.rb)
1. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを作成する
2. アプリケーション開発者は開発環境でイベントハンドラ定義を新規に作成する
3. <戻り点: イベントハンドラ定義のテスト>に遷移する

拡張コースA3: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc02_fire_another_event.rb)
1. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを作成する
2. アプリケーション開発者は開発環境でイベントハンドラ定義を新規に作成する
3. <戻り点: イベントハンドラ定義のテスト>に遷移する

拡張コースA4: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc03_2handlers_for_1event.rb)
1. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを作成する
2. アプリケーション開発者は開発環境でイベントハンドラ定義を新規に作成する
3. <戻り点: イベントハンドラ定義のテスト>に遷移する

拡張コースA5: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc08_if_both_a_and_b_occurs.rb)
1. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを作成する
2. アプリケーション開発者は開発環境でイベントハンドラ定義を新規に作成する
3. <戻り点: イベントハンドラ定義のテスト>に遷移する

拡張コースA6: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc10_if_the_event_occurs_at_the_server.rb)
1. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを作成する
2. アプリケーション開発者は開発環境でイベントハンドラ定義を新規に作成する
3. <戻り点: イベントハンドラ定義のテスト>に遷移する

拡張コースA7: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc11_if_the_event_occurs_in_the_servers.rb)
1. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを作成する
2. アプリケーション開発者は開発環境でイベントハンドラ定義を新規に作成する
3. <戻り点: イベントハンドラ定義のテスト>に遷移する

拡張コースA8: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc30_complex_case01.rb)
1. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを作成する
2. アプリケーション開発者は開発環境でイベントハンドラ定義を新規に作成する
3. <戻り点: イベントハンドラ定義のテスト>に遷移する

拡張コースA9: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc30_complex_case02.rb)
1. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを作成する
2. アプリケーション開発者は開発環境でイベントハンドラ定義を新規に作成する
3. <戻り点: イベントハンドラ定義のテスト>に遷移する

拡張コースA10: イベントハンドラ定義を作成する (利用するイベントハンドラ定義：uc31_complex_case01.rb)
1. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを作成する
2. アプリケーション開発者は開発環境でイベントハンドラ定義を新規に作成する
3. <戻り点: イベントハンドラ定義のテスト>に遷移する


代替コースB: テストに失敗する(イベントハンドラ定義に問題がある)
1. テストフレームワークエクステンションはアプリケーション開発者が作成したイベントハンドラ定義のテストに失敗したことを出力する
2. アプリケーション開発者は作成したイベントハンドラ定義の記述に問題があることを確認する
3. アプリケーション開発者は開発環境でイベントハンドラ定義を修正する
4. <戻り点: イベントハンドラ定義のテスト>に遷移する


代替コースC: テストに失敗する(テストコードに問題がある)
1. テストフレームワークエクステンションはアプリケーション開発者が作成したイベントハンドラ定義のテストに失敗したことを出力する
2. アプリケーション開発者は作成したイベントハンドラ定義のテストの記述に問題があることを確認する
3. アプリケーション開発者は開発環境でイベントハンドラ定義のテストを修正する
4. <戻り点: イベントハンドラ定義のテスト>に遷移する


注記:
  なし
