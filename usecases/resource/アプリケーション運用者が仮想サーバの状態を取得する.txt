ユースケース名:
  アプリケーション運用者が仮想サーバの状態を確認する

背景:
  分散バッチ環境を正しく設定し、分散バッチの実行状況を確認する上で、その実行環境の
  状態を随時取得できる必要がある。
  実行環境で状態を監視すべき対象として、
        ・物理サーバ
        ・仮想サーバ
        が挙げられる。このユースケースでは、
        ・仮想サーバ
        を扱う。

  仮想サーバについて確認すべき状態として、以下が考えられる。
  ・稼働している仮想サーバと対応する物理サーバの一覧
  ・稼働している仮想サーバ毎の設定と状態
  ・分散バッチの実行中に問題が発生した場合の、仮想サーバの稼働状況

  これらの状態を随時確認するために、仮想サーバの状態をリアルタイムで取得し、閲覧で
  きる機能が必要である。


概要:
  アプリケーション運用者は、[仮想サーバー制御画面]で物理サーバ上で起動している仮想
  サーバの状態を確認する。

事前条件:
  Tengineがセットアップされている。
  Trngineと連携する仮想サーバ基盤がセットアップされている。
  制御対象の物理サーバが起動している。

成功時保証:
  アプリケーション運用者が指定した条件に対応するすべての仮想サーバの状態を確認できる。

最低保証:
  なし

登場する画面:
  仮想サーバー制御画面

登場するコンポーネント:
  なし

登場するパッケージ:

登場するドキュメント:

関連するユースケース：
  アプリケーション運用者が仮想サーバを起動する
  アプリケーション運用者が仮想サーバを停止する

基本コース:
 1. アプリケーション運用者は「仮想サーバー制御画面」を開く。<戻り点: 仮想サーバー制御画面の表示>
 2.「仮想サーバー制御画面」はTengineに物理サーバ、仮想サーバの情報を問い合わせる。
 3. Tengineは仮想サーバー基盤に物理サーバ、仮想サーバの情報を問い合わせる。
 4. 仮想サーバ基盤は管理下の物理サーバ、仮想サーバの情報をTengineに報告する。[代替コースA]
 5. Tengineは「仮想サーバー制御画面」に物理サーバ、仮想サーバの情報を報告する。
 6. 「仮想サーバー制御画面」は物理サーバ上でどの仮想サーバが動いているかを出力する。
 7. アプリケーション運用者は「仮想サーバー制御画面」から、現在どの物理サーバでどのイメージの仮想サーバが起動しているかを確認する。[代替コースB]
 8.アプリケーション運用者は「仮想サーバー制御画面」上のリンクをクリックして「仮想サーバーイメージ一覧画面」に移動する。
 9.「仮想サーバーイメージ一覧画面」はTengineに仮想サーバーイメージの情報を問い合わせる。
10. Tengineは仮想サーバ基盤に仮想サーバーイメージの情報を問い合わせる。
11. 仮想サーバ基盤はTengineに管理下の仮想サーバーイメージのスペック情報を報告する。
12. Tengineは管理下の「仮想サーバーイメージ一覧画面」に仮想サーバイメージのスペック情報を報告する。
13.「仮想サーバー一覧画面」は仮想サーバイメージの情報を出力する。
14. アプリケーション運用者は「仮想サーバー一覧画面」を確認する。[代替コースC]

代替コースA: 仮想サーバの情報取得に失敗する 
 1. Tengineは仮想サーバ基盤が報告した情報の取得に失敗する。
 2. Tengineは「仮想サーバー制御画面」に、物理サーバと仮想サーバの情報が取得できなかったことを報告する。
 3.「仮想サーバー制御画面」は物理サーバと仮想サーバの情報が取得できなかったことを出力する。
 4. アプリケーション運用者は「仮想サーバー制御画面」から、物理サーバと仮想サーバの情報が取得できないことを確認する。
*** 以下は正しいフローを確認する必要がある。
 5. アプリケーション運用者はTengineのログを確認する。
 6. アプリケーション運用者は仮想サーバ制御基盤のログを確認する。
*** 以上は正しいフローを確認する必要がある。
 7. アプリケーション運用者はTengineおよび仮想サーバ制御基盤のログを元に問題を取り除く。
 8. <戻り点: 仮想サーバー制御画面の表示>に遷移する。

代替コースB: 物理サーバは起動しているが、仮想サーバは1台も起動していない
代替コースC: 仮想サーバ一覧をソートして表示する
代替コースD: 仮想サーバ一覧を検索条件で絞り込む
代替コースE: 複数の仮想サーバを「選択したサーバを停止」ボタンで停止したときの画面遷移を確認する
代替コースF: 仮想サーバを1台停止したときの画面遷移を確認する

