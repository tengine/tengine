ユースケース名:
  アプリケーション開発者がTengineコアが運用に耐えられるか検証する

背景:
  アプリケーション開発者は、Tengineの導入を検討するためにTengineコアの信頼性を評価することが考えられる。
  Tengineコアは、仮想サーバの起動や停止など、リソース機能が利用されるなかでも信頼性を保たなければならない。

概要:
  Tengineのリソース機能を利用している中で、Tengineコアの信頼性を検証する。

事前条件:
  DBプロセスが起動している
  キューのプロセスが起動している
  Tengineコアのプロセスが複数起動している
  Tengineコンソールが起動している
  Tengineリソースウォッチャのプロセスが起動している

成功時保証:
  Tengineコアがフェールオーバーして、イベント処理ができる事が確認できる

最低保証:
  なし

登場するコンポーネント:
  イベント管理
  仮想サーバ管理

登場するパッケージ:
  Tengineコア
  Tengineコンソール
  Tengineリソース
 
参照するドキュメント:
  Getting Started
  アプリケーション開発者向けTengineマニュアル
  アプリケーション運用者向けTengineマニュアル


基本コース:

# 仮想サーバの起動する前に片系のTengineコアプロセスを強制的に停止する

アプリケーション開発者は、スクリプトの実行中に片系のtenginedプロセスをkillし、tenginedを強制的に停止する
アプリケーション開発者は「イベント発火」でイベントを発火する
アプリケーション開発者は「イベント一覧」でイベントを発火したことを確認する


# 仮想サーバの起動中にTengineコアプロセスを強制的に停止する

アプリケーション開発者は強制停止した片系のTengineコアプロセスを再度起動する
アプリケーション運用者は「仮想サーバ一覧」を開く。
アプリケーション運用者は「仮想サーバ一覧」から、「仮想サーバを起動」ボタンを押下し、「仮想サーバ起動」画面に遷移する
アプリケーション運用者は「仮想サーバ起動」画面から物理サーバ名、仮想サーバ名、仮想サーバイメージ名、インスタンスタイプ、起動サーバ数を入力して「起動ボタン」を押下する
アプリケーション開発者は「仮想サーバ一覧」で起動した仮想サーバが起動中であることを確認する
アプリケーション開発者は、スクリプトの実行中に片系のtenginedプロセスをkillし、tenginedを強制的に停止する
アプリケーション開発者は「イベント発火」でイベントを発火する
アプリケーション開発者は「イベント一覧」でイベントを発火したことを確認する

アプリケーション開発者は「仮想サーバ一覧」で起動した仮想サーバが稼働中であることを確認する
アプリケーション開発者は「イベント一覧」で仮想サーバのステータスが変更されたイベントを確認する


# 仮想サーバを起動した後にTengineコアプロセスを停止する
アプリケーション開発者は強制停止した片系のTengineコアプロセスを再度起動する
アプリケーション開発者は「仮想サーバ一覧」で起動した仮想サーバが稼働中であることを確認する
アプリケーション開発者は、スクリプトの実行中に片系のtenginedプロセスをkillし、tenginedを強制的に停止する
アプリケーション開発者は「イベント発火」でイベントを発火する
アプリケーション開発者は「イベント一覧」でイベントを発火したことを確認する



